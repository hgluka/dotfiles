;=====================================================
;
;   To learn more about how to configure Polybar
;   go to https://github.com/jaagr/polybar
;
;   The README contains alot of information
;
;=====================================================

[colors]
xbackground = ${xrdb:background}
xforeground = ${xrdb:foreground}
xcolor0    = ${xrdb:color0}
xcolor1    = ${xrdb:color1}
xcolor2    = ${xrdb:color2}
xcolor3    = ${xrdb:color3}
xcolor4    = ${xrdb:color4}
xcolor5    = ${xrdb:color5}
xcolor6    = ${xrdb:color6}
xcolor7    = ${xrdb:color7}
xcolor8    = ${xrdb:color8}
xcolor9    = ${xrdb:color9}
xcolor10   = ${xrdb:color10}
xcolor11   = ${xrdb:color11}
xcolor12   = ${xrdb:color12}
xcolor13   = ${xrdb:color13}
xcolor14   = ${xrdb:color14}
xcolor15   = ${xrdb:color15}

[bar/top]
monitor = ${env:MONITOR:LVDS-1}
enable-ipc = true
override-redirect = true 
bottom = false
width = 100%
height = 40
fixed-center = true

background = ${colors.xbackground}
foreground = ${colors.xforeground}

line-size = 3
line-color = ${colors.xcolor15}

padding-left = 2
padding-right = 1

module-margin-left = 0
module-margin-right = 2

font-0 = "RobotoMono Nerd Font:pixelsize=13"
font-1 = "Roboto Mono for Powerline:pixelsize=13"
font-2 = "Material Design Icons:pixelsize=13"

modules-left = groups cmus
modules-center = date 
modules-right = blight volume wlan eth battery option_menu

tray-position = right
tray-padding = 2

[module/groups]
type = custom/script
exec = fish ~/.bin/groups
interval=0
format = <label>
label = %output:0:15:...%

[module/cmus]
type = custom/script

exec = cmus_status
exec-if = pgrep -x cmus
interval = 1

click-left = cmus-remote --next
click-right = cmus-remote --prev
click-middle = cmus-remote --pause
scroll-up = cmus-remote --volume +5%
scroll-down = cmus-remote --volume -5%

format = <label>
label = %output:0:50:...%

[module/wlan]
type = internal/network
interface = wlp3s0
interval = 3.0

format-connected = <label-connected>
label-connected = 直 %essid% %local_ip% 
format-disconnected = <label-disconnected>
label-disconnected = 睊 %ifname% 

[module/eth]
type = internal/network
interface = enp0s25
interval = 3.0

format-connected-prefix = " "
label-connected = %local_ip%

format-disconnected =

[module/date]
type = internal/date
interval = 5

date = "%d.%m.%Y."

time = "%H:%M"

label = %date% %time%

[module/blight]
type = custom/ipc
hook-0 = ~/.bin/blight icon
initial = 1
click-left = sudo ~/.bin/blight toggle

[module/volume]
type = internal/pulseaudio

format-volume = <ramp-volume> <label-volume>

use-ui-max = false

ramp-volume-0 = 奄  
ramp-volume-1 = 奔 
ramp-volume-2 = 墳 

label-volume = %percentage%%
label-volume-foreground = ${root.foreground}

format-muted-foreground = ${colors.xcolor9}
label-muted = "婢"

[module/battery]
type = internal/battery
battery = BAT0
adapter = AC
full-at = 98

format-charging = <animation-charging> <label-charging>

format-discharging = <ramp-capacity> <label-discharging>

format-full-prefix = ""
format-full-prefix-foreground = ${colors.xforeground}

ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-foreground = ${colors.xcolor9}

animation-charging-0 = 
animation-charging-1 = 
animation-charging-2 = 
animation-charging-foreground = ${colors.xforeground}
animation-charging-framerate = 750

[module/option_menu]
type = custom/ipc
hook-0 = ~/.bin/polybar_conky options_icon
initial = 1
click-left = ~/.bin/polybar_conky options

[bar/panel]
monitor = ${env:MONITOR:LVDS-1}
enable-ipc = true
override-redirect = true 
bottom = false 
fixed-center=true

height = 40
width = 256
offset-y = 40
offset-x = 1344
background = ${colors.xbackground}
foreground = ${colors.xforeground}

line-size = 3
line-color = ${colors.xcolor15}

padding-left = 2
padding-right = 1

module-margin-left = 0
module-margin-right = 2

font-0 = "RobotoMono Nerd Font:pixelsize=13"
font-1 = "Roboto Mono for Powerline:pixelsize=13"
font-2 = "Material Design Icons:pixelsize=13"

modules-center = lock reboot shutdown

[module/shutdown]
type = custom/text
content = "  "
click-left = shutdown now

[module/reboot]
type = custom/text
content = " ﰇ "
click-left = reboot

[module/lock]
type = custom/text
content = "  "
click-left = conkyless-blur-lock 5 pixel

[settings]
screenchange-reload = true

[global/wm]
margin-top = 5
margin-bottom = 5
